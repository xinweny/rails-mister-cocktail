<div class="cocktail-container">
  <div class="cocktail-header d-flex align-items-center">
    <h2><%= @cocktail.name %></h2>
    <%= link_to edit_cocktail_path(@cocktail) do %>
      <i class="fas fa-pen-fancy"></i>
    <% end %>
    <%= link_to cocktail_path(@cocktail), method: :destroy, data: { confirm: 'Delete this cocktail?' } do %>
      <i class="fas fa-times"></i>
    <% end %>
  </div>

  <div class="ingredients-container d-flex justify-content-between">
    <div class="ingredients">
      <h3>Ingredients</h3>
      <% doses = Dose.where('cocktail_id = ?', @cocktail.id) %>
      <% doses.each do |dose| %>
        <div class="ingredient-card d-flex">
          <% ingredient = dose.ingredient %>
          <p><b><%= ingredient.name %></b> - <em>"<%= dose.description %>"</em></p>
          <%= link_to dose_path(dose), method: :delete, data: { confirm: 'Delete this ingredient?' } do %>
            <i class="fas fa-times"></i>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="ingredient-form">
      <%= render 'doses/form' %>
    </div>
  </div>

  <div class="reviews-container">
    <div class="reviews">
      <h3>Reviews</h3>
      <% reviews = Review.where('cocktail_id = ?', @cocktail.id) %>
      <% reviews.each do |review| %>
      <div class="review d-flex">
        <p>
          <% review.rating.times do %>
          <i class="fas fa-star"></i>
          <% end %>
        </p>
        <em><%= review.content %></em>
      </div>
      <% end %>
    </div>
    <div class="review-form">
      <%= render 'reviews/form' %>
    </div>
  </div>
</div>
